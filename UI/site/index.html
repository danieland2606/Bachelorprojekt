<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8">
  <meta name="description" content="MeowMed+ customer management application">
  <meta name="author" content="Julian Opitz">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="meowmed.css">
  <script type="module" src="src.js"></script>
</head>

<body application="MyApp">
  
  <template id="dashboard" page="start">
    <h1>Mitarbeiter Dashboard</h1>
    <div class="box-row">
      <div class="search-container">
        <input type="text" placeholder="Suche..">
        <img src="assets/search.svg" alt="lupe">
      </div>
      <button type="button" id="newCustomer" onclick="app.navigate('customer-new')">Neuer Kunde</button>
    </div>
    <table>
      <thead>
        <tr>
          <th scope="col">ID</th>
          <th scope="col">Vorname</th>
          <th scope="col">Nachname</th>
          <th scope="col">Adresse</th>
          <th scope="col">Aktionen</th>
        </tr>
      </thead>
      <tbody data-array="customerList">
        <template>
          <tr>
            <td>{{id}}</td>
            <td>{{firstName}}</td>
            <td>{{lastName}}</td>
            <td>{{address.street}}, {{address.postalCode}} {{address.city}}</td>
            <td>
              <button type="button" onclick="app.navigate('customer-details', {'id': {{id}} })">details</button>
            </td>
          </tr>
        </template>
      </tbody>
    </table>
  </template>

  <template id="customer-details" page>
    <h1>Kundendetails</h1>
    <section>
      <dl data="customer" class="box-column">
        <div class="cell">
          <dt>ID</dt>
          <dd>{{id}}</dd>
        </div>
        <div class="cell">
          <dt>Anrede</dt>
          <dd>{{formOfAdress}}</dd>
        </div>
        <div class="cell">
          <dt>Titel</dt>
          <dd>{{title}}</dd>
        </div>
        <div class="cell">
          <dt>Vorname</dt>
          <dd>{{firstName}}</dd>
        </div>
        <div class="cell">
          <dt>Nachname</dt>
          <dd>{{lastName}}</dd>
        </div>
        <div class="cell">
          <dt>Rufnummer</dt>
          <dd>{{phoneNumber}}</dd>
        </div>
        <div class="cell">
          <dt>Email</dt>
          <dd>{{email}}</dd>
        </div>
        <div class="cell">
          <dt>Geburtsdatum</dt>
          <dd>{{dateOfBirth}}</dd>
        </div>
        <div class="cell">
          <dt>Familienstatus</dt>
          <dd>{{maritalStatus}}</dd>
        </div>
        <div class="cell">
          <dt>Berufsstand</dt>
          <dd>{{employmentStatus}}</dd>
        </div>
        <div class="cell">
          <dt>Wohnort</dt>
          <dd>{{address.city}}</dd>
        </div>
        <div class="cell">
          <dt>Straße</dt>
          <dd>{{address.street}}</dd>
        </div>
        <div class="cell">
          <dt>Postleitzahl</dt>
          <dd>{{address.postalCode}}</dd>
        </div>
        <div class="cell">
          <dt>IBAN</dt>
          <dd>{{bankDetails}}</dd>
        </div>
      </dl>
    </section>
    <div class="box-table-buttons">
      <input type="text" placeholder="Suche..">
      <button type="button"
        onclick="app.navigate('policy-new', {id: app.data.customer.id, postalCode: app.data.customer.address.postalCode})">Neuer
        Vertrag</button>
    </div>
    <table>
      <thead>
        <tr>
          <th scope="col">ID</th>
          <th scope="col">Katze</th>
          <th scope="col">Beginn</th>
          <th scope="col">Ende</th>
          <th scope="col">Jahresdeckung</th>
          <th scope="col">Aktionen</th>
        </tr>
      </thead>
      <tbody data-array="policyList">
        <template>
          <tr>
            <td>{{id}}</td>
            <td>{{objectOfInsurance.name}}</td>
            <td>{{startDate}}</td>
            <td>{{endDate}}</td>
            <td>{{coverage}}</td>
            <td>
              <button type="button">details</button>
            </td>
          </tr>
        </template>
      </tbody>
    </table>
  </template>

  <template id="customer-new" page>
    <h1>Neuen Kunden anlegen</h1>
    <form class="box-column">
      <div class="cell">
        <label>Anrede
          <select data-bind="formOfAdress">
            <option value="herr">Herr</option>
            <option value="frau">Frau</option>
          </select>
        </label>
      </div>
      <div class="cell">
        <label>
          Titel
          <select data-bind="title">
            <option value="doctor">Dr.</option>
            <option value="professor">Prof.</option>
          </select>
        </label>
      </div>
      <div class="cell">
        <label>
          Vorname
          <input type="text" data-bind="firstName">
        </label>
      </div>
      <div class="cell">
        <label>
          Nachname
          <input type="text" data-bind="lastName">
        </label>
      </div>
      <div class="cell">
        <label>
          Rufnummer
          <input type="tel" data-bind="phoneNumber">
        </label>
      </div>
      <div class="cell">
        <label>
          Email
          <input type="email" data-bind="email">
        </label>
      </div>
      <div class="cell">
        <label>
          Geburtsdatum
          <input type="date" data-bind="dateOfBirth">
        </label>
      </div>
      <div class="cell">
        <label>
          Familienstatus
          <select data-bind="maritalStatus">
            <option value="ledig">Ledig</option>
            <option value="verheiratet">Verheiratet</option>
            <option value="verwitwet">Verwitwet</option>
          </select>
        </label>
      </div>
      <div class="cell">
        <label>
          Berufsstand
          <select data-bind="employmentStatus">
            <option value="selbststaendig">Selbstständig</option>
            <option value="angestellt">Angestellt</option>
            <option value="arbeitslos">Arbeitslos</option>
            <option value="arbeitssuchend">Arbeitssuchend</option>
            <option value="ausbildung">In Ausbildung</option>
          </select>
        </label>
      </div>
      <div class="cell">
        <label>
          Wohnort
          <input type="text" data-bind="address.city">
        </label>
      </div>
      <div class="cell">
        <label>
          Straße
          <input type="text" data-bind="address.street">
        </label>
      </div>
      <div class="cell">
        <label>
          Postleitzahl
          <input type="text" data-bind="address.postalCode">
        </label>
      </div>
      <div class="cell">
        <label>
          IBAN
          <input type="text" data-bind="bankDetails">
        </label>
      </div>
    </form>
    <button type="button" onclick="history.back()">Abbrechen</button>
    <button type="button" onclick="app.createCustomer(app.data)">Anlegen</button>
  </template>


  <template id="policy-new" page>
    <h1>Neuen Vertrag anlegen</h1>
    <form>
      <div class="box-column">
        <div class="cell">
          <label>
            Begin
            <input type="date" data-bind="policy.startDate">
          </label>
        </div>
        <div class="cell">
          <label>
            Ende
            <input type="date" data-bind="policy.endDate">
          </label>
        </div>
        <div class="cell">
          <label>
            Deckung
            <input type="number" data-bind="policy.coverage">
          </label>
        </div>
      </div>
      <h2>Katze</h2>
      <div class="box-column">
        <div class="cell">
          <label>
            Name
            <input type="text" data-bind="policy.objectOfInsurance.name">
          </label>
        </div>
        <div class="cell">
          <label>
            Rasse
            <select data-bind="policy.objectOfInsurance.race">
              <option value="siamese">Siamese</option>
              <option value="perser">Perser</option>
              <option value="bengal">Bengal</option>
              <option value="maine-coon">Maine Coon</option>
              <option value="sphynx">Sphynx</option>
              <option value="scottish-fold">Scottish Fold</option>
              <option value="british-shorthair">British Shorthair</option>
              <option value="abyssinian">Abyssinian</option>
              <option value="ragdoll">Ragdoll</option>
            </select>
          </label>
        </div>
        <div class="cell">
          <label>
            Farbe
            <select data-bind="policy.objectOfInsurance.color">
              <option value="seal">Seal</option>
              <option value="blau">Blau</option>
              <option value="lilac">Lilac</option>
              <option value="creme">Creme</option>
              <option value="weiss">Weiß</option>
              <option value="schildpatt">Schildpatt</option>
              <option value="schwarz">Schwarz</option>
              <option value="braun">Braun</option>
              <option value="marmor">Marmor</option>
              <option value="grau">Grau</option>
              <option value="rot">Rot</option>
              <option value="zimt">Zimt</option>
            </select>
          </label>
        </div>
        <div class="cell">
          <label>
            Geburtsdatum
            <input type="date" data-bind="policy.objectOfInsurance.dateOfBirth">
          </label>
        </div>
        <div class="cell">
          <label>
            Kastriert
            <input type="checkbox" data-bind="policy.objectOfInsurance.castrated">
          </label>
        </div>
        <div class="cell">
          <label>
            Persönlichkeit
            <select data-bind="policy.objectOfInsurance.personality">
              <option value="anhaenglich">Anhänglich</option>
              <option value="spielerisch">Spielerisch</option>
            </select>
          </label>
        </div>
        <div class="cell">
          <label>
            Umgebung
            <select data-bind="policy.objectOfInsurance.environment">
              <option value="draussen">Hauskatze</option>
              <option value="drinnen">Freigänger</option>
            </select>
          </label>
        </div>
        <div class="cell">
          <label>
            Gewicht
            <input type="number" data-bind="policy.objectOfInsurance.weight">
          </label>
        </div>
      </div>
    </form>
    <input type="button" data-bind="premium" onclick="app.data.premium.update(app.data)"></button>
    <button type="button" onclick="history.back()">Abbrechen</button>
    <button type="button" onclick="app.createPolicy(app.data.customerId, app.data.policy)">Vertrag abschließen</button>
  </template>

</body>

</html>